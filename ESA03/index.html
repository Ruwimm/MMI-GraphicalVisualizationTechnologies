<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css">
</head>

<body>
<h1 id="title">ESA 3 - Farbig gefuellte 2D Geometrie</h1>
<canvas id="canvas" width="400" height="400"></canvas>
<div id="hinweise">
    <h2>Allgemeine Hinweise</h2>
    <ul>
        <li>
            <b>Darstellung:</b>
            Hier soll eine Tulpe abgebildet werden
        </li>
        <li>
            <b>Quelle:</b>
            Die Referenz wurde vorher eigenstaendig analog gezeichnet
        </li>
    </ul>
</div>

<script>
    let canvas = document.getElementById('canvas');
    let gl = canvas.getContext('webgl');

    gl.clearColor(1, 1, 1, 1);
    gl.frontFace(gl.CCW);
    gl.enable(gl.CULL_FACE);
    gl.cullFace(gl.BACK);

    // Vertex Shader (vsSource)
    let vsSource = `
    attribute vec2 pos;
    attribute vec3 color;
    varying vec3 vColor;
    uniform float scaleFactor;

    void main() {
        vec2 scaledPos = pos / scaleFactor;
        gl_Position = vec4(scaledPos, 0.0, 1.0);
        vColor = color;
    }`;

    let vs = gl.createShader(gl.VERTEX_SHADER);
    gl.shaderSource(vs, vsSource);
    gl.compileShader(vs);

    // Fragment Shader (fsSource)
    let fsSource = `
    precision mediump float;
    varying vec3 vColor;

    void main() {
        gl_FragColor = vec4(vColor, 1.0);
    }`;

    let fs = gl.createShader(gl.FRAGMENT_SHADER);
    gl.shaderSource(fs, fsSource);
    gl.compileShader(fs);

    // Link shaders
    let prog = gl.createProgram();
    gl.attachShader(prog, vs);
    gl.attachShader(prog, fs);
    gl.linkProgram(prog);
    gl.useProgram(prog);

    let scaleFactor = 5.0;
    let scaleUniformLocation = gl.getUniformLocation(prog, "scaleFactor");
    gl.uniform1f(scaleUniformLocation, scaleFactor);

    let vertices = new Float32Array([
        -2.0, -5.0,
        -1.0, -5.0,
        -0.25, -4.0,

        -0.25, -4.0,
        -1.25, -4.0,
        -2.0, -5.0,

        -1.25, -4.0,
        -0.25, -4.0,
        0.0, -3.0,

        0.0, -3.0,
        -1.0, -3.0,
        -1.25, -4.0,

        -1.0, -3.0,
        0.0, -3.0,
        0.0, -2.75,

        0.0, -2.75,
        0.25, -3.0,
        0.75, -3.0,

        0.75, -3.0,
        1.0, -2.75,
        1.0, -2.25,

        1.0, -2.25,
        0.75, -2.0,
        0.75, -3.0,

        0.75, -3.0,
        0.75, -2.0,
        0.25, -2.0,

        0.25, -2.0,
        0.0, -2.25,
        0.75, -3.0,

        0.75, -3.0,
        0.0, -2.25,
        0.0, -2.75,

        0.0, -2.75,
        0.0, -2.25,
        -1.0, -3.0,

        -1.0, -3.0,
        0.0, -2.25,
        -1.0, -2.0,

        -1.0, -2.0,
        0.0,-2.25,
        0.0, -2.0,

        0.0, -2.0,
        0.0, -1.0,
        -1.0, -2.0,

        -1.0, -2.0,
        0.0, -1.0,
        -1.0, -1.0,

        // Ab hier Blüte
        -1.0, -1.0,
        0.0, -1.0,
        0.75, -0.5,

        0.75, -0.5,
        0.75, 0.0,
        -1.0, -1.0,

        0.75, 0.0,
        0.75, 0.25,
        0.25, 0.0,

        0.25, 0.0,
        0.0, 0.25,
        -0.25, 0.0,

        -0.25, 0.0,
        -0.5, 0.25,
        -0.75, 0.0,

        -0.75, 0.0,
        -1.0, 0.25,
        -1.25, 0.0,

        -1.25, 0.0,
        -1.75, 0.25,
        -1.75, 0.0,

        -1.75, 0.0,
        -1.75, -0.50,
        -1.25, 0.0,

        -1.25, 0.0,
        -1.75, -0.5,
        -1.0, -1.0,

        -1.0, -1.0,
        0.75, 0.0,
        0.25, 0.0,

        0.25, 0.0,
        -0.25, 0.0,
        -1.0, -1.0,

        -1.0, -1.0,
        -0.25, 0.0,
        -0.75, 0.0,

        -0.75, 0.0,
        -1.25, 0.0,
        -1.0, -1.0,

    ]);

    let colors = new Float32Array([
        // Grünverlauf
        0.0, 0.4, 0.0,   0.0, 0.6, 0.0,   0.0, 0.5, 0.0,
        0.0, 0.5, 0.0,   0.0, 0.7, 0.0,   0.0, 0.4, 0.0,
        0.0, 0.6, 0.0,   0.0, 0.5, 0.0,   0.0, 0.7, 0.0,
        0.0, 0.6, 0.0,   0.0, 0.5, 0.0,   0.0, 0.4, 0.0,
        0.0, 0.5, 0.0,   0.0, 0.6, 0.0,   0.0, 0.7, 0.0,
        0.0, 0.6, 0.0,   0.0, 0.7, 0.0,   0.0, 0.8, 0.0,
        0.0, 0.7, 0.0,   0.0, 0.8, 0.0,   0.0, 0.6, 0.0,
        0.0, 0.6, 0.0,   0.0, 0.8, 0.0,   0.0, 0.7, 0.0,
        0.0, 0.6, 0.0,   0.0, 0.7, 0.0,   0.0, 0.5, 0.0,
        0.0, 0.6, 0.0,   0.0, 0.7, 0.0,   0.0, 0.8, 0.0,
        0.0, 0.6, 0.0,   0.0, 0.7, 0.0,   0.0, 0.5, 0.0,
        0.0, 0.6, 0.0,   0.0, 0.5, 0.0,   0.0, 0.4, 0.0,
        0.0, 0.5, 0.0,   0.0, 0.6, 0.0,   0.0, 0.7, 0.0,
        0.0, 0.6, 0.0,   0.0, 0.7, 0.0,   0.0, 0.8, 0.0,
        0.0, 0.6, 0.0,   0.0, 0.7, 0.0,   0.0, 0.8, 0.0,
        0.0, 0.5, 0.0,   0.0, 0.6, 0.0,   0.0, 0.4, 0.0,

        // Rot
        0.8, 0.0, 0.0,   0.9, 0.2, 0.1,   1.0, 0.3, 0.2,
        0.9, 0.1, 0.1,   1.0, 0.4, 0.3,   0.8, 0.0, 0.0,
        1.0, 0.4, 0.3,   0.9, 0.2, 0.2,   1.0, 0.5, 0.4,
        1.0, 0.3, 0.3,   0.9, 0.2, 0.1,   1.0, 0.4, 0.3,
        1.0, 0.4, 0.3,   1.0, 0.3, 0.3,   0.9, 0.2, 0.1,
        1.0, 0.5, 0.4,   0.9, 0.3, 0.2,   0.8, 0.1, 0.1,
        0.8, 0.0, 0.0,   1.0, 0.4, 0.3,   1.0, 0.3, 0.3,
        1.0, 0.3, 0.3,   0.9, 0.2, 0.2,   0.8, 0.0, 0.0,
        0.8, 0.0, 0.0,   0.9, 0.2, 0.1,   1.0, 0.3, 0.2,
        1.0, 0.3, 0.3,   0.8, 0.1, 0.1,   0.9, 0.2, 0.2,
        0.9, 0.2, 0.1,   1.0, 0.4, 0.3,   0.8, 0.1, 0.1,
        0.8, 0.0, 0.0,   1.0, 0.3, 0.2,   0.9, 0.2, 0.1,
        0.9, 0.1, 0.1,   1.0, 0.3, 0.3,   1.0, 0.4, 0.3,
        1.0, 0.4, 0.3,   0.9, 0.2, 0.2,   1.0, 0.5, 0.4,
        1.0, 0.4, 0.3,   1.0, 0.3, 0.3,   0.8, 0.1, 0.1,

    ])

    let colorBuffer = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, colorBuffer);
    gl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);

    let colorAttrib = gl.getAttribLocation(prog, 'color');
    gl.vertexAttribPointer(colorAttrib, 3, gl.FLOAT, false, 0, 0);
    gl.enableVertexAttribArray(colorAttrib);


    // Setup VBO (vertex buffer object)
    let vbo = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, vbo);
    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);


    // Connect vertex buffer to shader attribute.
    let posAttrib = gl.getAttribLocation(prog, 'pos');
    gl.vertexAttribPointer(posAttrib, 2, gl.FLOAT, false, 0, 0);
    gl.enableVertexAttribArray(posAttrib);


    // Render
    gl.clear(gl.COLOR_BUFFER_BIT);
    gl.drawArrays(gl.TRIANGLES, 0, vertices.length / 2);
</script>
</body>
</html>


<!-- -1.0, -5.0,-->
<!-- -0.25, -4.0,-->
<!--0.0, -3.0,-->
<!--0.0, -2.75,-->
<!--0.25, -3.0,-->
<!--0.75, -3.0,-->
<!--1.0, -2.75,-->
<!--1.0, -2.25,-->
<!--0.75, -2.0,-->
<!--0.25, -2.0,-->
<!--0.0, -2.25,-->
<!--0.0, -2.0,-->
<!--0.0, -1.0,-->

<!--0.25, -1.0,-->


<!--0.75, -0.5,-->
<!--0.75, 0.0,-->
<!--0.75, 0.25,-->
<!--0.25, 0.0,-->
<!--0.0, 0.25,-->
<!-- -0.25, 0.0,-->
<!-- -0.5, 0.25,-->
<!-- -0.75, 0.0,-->
<!-- -1.0, 0.25,-->
<!-- -1.25, 0.0,-->
<!-- -1.75, 0.25,-->
<!-- -1.75, 0.0,-->
<!-- -1.75, -0.5,-->
<!-- -1.25, -1.0,-->
<!-- -1.0, -1.0,-->


<!-- -1.0, -1.0,-->
<!-- -1.0, -2.0,-->
<!-- -1.0, -3.0,-->
<!-- -1.25, -4.0,-->
<!-- -2.0, -5.0,-->
